<!DOCTYPE html>

<html lang=en>
 <head><meta content="text/html; charset=utf-8" http-equiv=Content-Type>

  <title>CSS Masking</title>
  <link href="#contents" rel=contents>
  <link href="#index" rel=index>
  <link href=default.css rel=stylesheet type="text/css">
  <link href="http://www.w3.org/StyleSheets/TR/W3C-ED.css" rel=stylesheet
  type="text/css">

  <style>
  .todo {
      border-left: 0.5em solid #f44;
      padding-left: 1em;
      margin-top: 0.5em;
      background: #FBE9E9;
  }
  
  .todo:before {
      content: "TO DO ";
      color: #f44;
  }
 </style>

 <body>
  <div class=head> <!--begin-logo-->
   <p><a href="http://www.w3.org/"><img alt=W3C height=48
    src="http://www.w3.org/Icons/w3c_home" width=72></a> <!--end-logo-->

   <h1>CSS Masking</h1>

   <h2 class="no-num no-toc" id=longstatus-date>Editor's Draft 12 August 2012</h2>

   <dl>
    <dt>This version:

    <dd><a
     href="http://dvcs.w3.org/hg/FXTF/raw-file/tip/masking/index.html">http://dvcs.w3.org/hg/FXTF/raw-file/tip/masking/index.html</a>
     <!--http://www.w3.org/TR/2012/WD-css-masking-20120812/-->

    <dt>Latest version:

    <dd><a
     href="http://www.w3.org/TR/css-masking/">http://www.w3.org/TR/css-masking/</a>
     

    <dt>Editor's draft:

    <dd><a
     href="http://dvcs.w3.org/hg/FXTF/raw-file/tip/masking/index.html">http://dvcs.w3.org/hg/FXTF/raw-file/tip/masking/index.html</a>
     

    <dt>Editors:

    <dd class="h-card vcard"> <a class="p-name fn u-url url"
     href="[editor1 personal URL (opt.)]" rel=author>[editor1 name]</a>,
     <span class="p-org org">[affiliation (opt.)]</span>, <span
     class="u-email email">[email address (opt.)]</span>
   </dl>
   <!--begin-copyright-->
   <p class=copyright><a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright"
    rel=license>Copyright</a> © 2012 <a href="http://www.w3.org/"><abbr
    title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a
    href="http://www.csail.mit.edu/"><abbr
    title="Massachusetts Institute of Technology">MIT</abbr></a>, <a
    href="http://www.ercim.eu/"><abbr
    title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>,
    <a href="http://www.keio.ac.jp/">Keio</a>), All Rights Reserved. W3C <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>,
    <a
    href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a>
    and <a
    href="http://www.w3.org/Consortium/Legal/copyright-documents">document
    use</a> rules apply.</p>
   <!--end-copyright-->
   <hr title="Separator for header">
  </div>

  <h2 class="no-num no-toc" id=abstract>Abstract</h2>

  <p>CSS Masking describes how to use another graphical element or image as a
   lumniance or alpha mask. Typically, rendering an element via CSS or SVG
   can conceptually described as if the element, including its children, are
   drawn into a buffer (such as a raster image) and then that buffer is
   composited into the elements parent. Luminance or alpha masks influence
   the transperency of this buffer before the compositing stage.

  <h2 class="no-num no-toc" id=status>Status of this document</h2>
  <!--begin-status-->

  <p>This is a public copy of the editors' draft. It is provided for
   discussion only and may change at any moment. Its publication here does
   not imply endorsement of its contents by W3C. Don't cite this document
   other than as work in progress.

  <p>The (<a
   href="http://lists.w3.org/Archives/Public/public-fx/">archived</a>) public
   mailing list <a href="mailto:public-fx@w3.org">public-fx@w3.org</a> (see
   <a href="http://www.w3.org/Mail/Request">instructions</a>) is preferred
   for discussion of this specification. When sending e-mail, please put the
   text “css-masking” in the subject, preferably like this:
   “[<!---->css-masking<!---->] <em>…summary of comment…</em>”

  <p>This document was produced by the <a
   href="http://www.w3.org/Style/CSS/members">CSS Working Group</a> (part of
   the <a href="http://www.w3.org/Style/">Style Activity</a>) and the <a
   href="http://www.w3.org/Graphics/SVG/">SVG Working Group</a> (part of the
   <a href="http://www.w3.org/Graphics/">Graphics Activity</a>).

  <p>This document was produced by groups operating under the <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February
   2004 W3C Patent Policy</a>. W3C maintains a <a
   href="http://www.w3.org/2004/01/pp-impl/32061/status"
   rel=disclosure>public list of any patent disclosures (CSS)</a> and a <a
   href="http://www.w3.org/2004/01/pp-impl/19480/status"
   rel=disclosure>public list of any patent disclosures (SVG)</a> made in
   connection with the deliverables of each group; these pages also include
   instructions for disclosing a patent. An individual who has actual
   knowledge of a patent which the individual believes contains <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential
   Claim(s)</a> must disclose the information in accordance with <a
   href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section
   6 of the W3C Patent Policy</a>.</p>
  <!--end-status-->

  <h2 class="no-num no-toc" id=contents> Table of contents</h2>
  <!--begin-toc-->

  <ul class=toc>
   <li><a href="#intro"><span class=secno>1. </span> Introduction </a>

   <li><a href="#placement"><span class=secno>2. </span>Module
    interactions</a>

   <li><a href="#values"><span class=secno>3. </span>Values</a>

   <li><a href="#definitions"><span class=secno>4. </span>Definitions</a>

   <li><a href="#the-masking-rendering-model"><span class=secno>5. </span>The
    Masking Rendering Model</a>
    <ul class=toc>
     <li><a href="#layering"><span class=secno>5.1. </span>Layering Multiple
      Mask Images</a>

     <li><a href="#MaskValues"><span class=secno>5.2. </span>Calculating mask
      values</a>
    </ul>

   <li><a href="#the-mask-image"><span class=secno>6. </span>The ‘<code
    class=property>mask-image</code>’ property</a>

   <li><a href="#the-mask-repeat"><span class=secno>7. </span>The ‘<code
    class=property>mask-repeat</code>’ property </a>

   <li><a href="#the-mask-attachment"><span class=secno>8. </span>The
    ‘<code class=property>mask-attachment</code>’ property</a>

   <li><a href="#the-mask-position"><span class=secno>9. </span>The ‘<code
    class=property>mask-position</code>’ property</a>

   <li><a href="#the-mask-clip"><span class=secno>10. </span>The ‘<code
    class=property>mask-clip</code>’ property</a>

   <li><a href="#the-mask-origin"><span class=secno>11. </span>The ‘<code
    class=property>mask-origin</code>’ property</a>

   <li><a href="#the-mask-size"><span class=secno>12. </span>The ‘<code
    class=property>mask-size</code>’ property </a>

   <li><a href="#the-mask-type"><span class=secno>13. </span>The ‘<code
    class=property>mask-type</code>’ property </a>

   <li><a href="#mask-property"><span class=secno>14. </span>The ‘<code
    class=property>mask</code>’ property</a>

   <li><a href="#MaskElement"><span class=secno>15. </span>The <span
    class=element-name>‘<code class=property>mask</code>’</span> element
    </a>
    <ul class=toc>
     <li><a href="#DirectMaskSource"><span class=secno>15.1. </span>Directly
      referencing a mask source</a>
    </ul>

   <li class=no-num><a href="#references"> References</a>
    <ul class=toc>
     <li class=no-num><a href="#normative-references"> Normative
      references</a>

     <li class=no-num><a href="#other-references"> Other references</a>
    </ul>

   <li class=no-num><a href="#index"> Index</a>

   <li class=no-num><a href="#property-index"> Property index</a>
  </ul>
  <!--end-toc-->

  <h2 id=intro><span class=secno>1. </span> Introduction</h2>

  <p> With CSS Masking it is possible to specify another graphics element or
   file to be used as an luminance or alpha mask for compositing the current
   object into the background.

  <p> A mask is applied using the ‘<a href="#mask"><code
   class=property>mask</code></a>’ property. The mask source may be defined
   using a <a class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element. Alternatively, for many simple
   uses, the ‘<a href="#mask"><code class=property>mask</code></a>’
   property may refer directly to graphical elements or images to be used as
   the mask source content forgoing the need for an explicit <a
   class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element.

  <p> The effect of applying a mask is as if the mask source elements are
   rendered into an offscreen image which has been initialized to transparent
   black. The graphical object to which the mask is applied will be painted
   onto the background through the mask, thus completely or partially masking
   out parts of the graphical object.

  <div class=example>
   <p> Following example uses an image to mask a rectangle.</p>
   <img alt="Example Mask" src="images/masking/mask01.png"> <br>

   <p><a href="images/masking/mask01.svg">View this example</a> as SVG</p>
  </div>

  <h2 id=placement><span class=secno>2. </span>Module interactions</h2>

  <p>This specification defines a set of CSS properties that affect the
   visual rendering of elements to which those properties are applied; these
   effects are applied after elements have been sized and positioned
   according to the <a href="http://www.w3.org/TR/CSS2/visuren.html"
   title="Visual formatting model">Visual formatting model</a> from <a
   href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>. Some values of
   these properties result in the creation of a <a
   href="http://www.w3.org/TR/CSS2/visuren.html#containing-block"
   title="Visual formatting model">containing block</a>, and/or the creation
   of a <a href="http://www.w3.org/TR/CSS2/visuren.html#z-index"
   title="Visual formatting model">stacking context</a>.

  <p>Defintions of CSS properties and values in this specification comply
   with CSS Backgrounds and Borders <a href="#CSS3BG"
   rel=biblioentry>[CSS3BG]<!--{{CSS3BG}}--></a>.

  <h2 id=values><span class=secno>3. </span>Values</h2>

  <p>This specification follows the <a
   href="http://www.w3.org/TR/CSS21/about.html#property-defs">CSS property
   definition conventions</a> from <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>. Value types not defined in
   this specification are defined in CSS Level 2 Revision 1 <a
   href="#CSS21" rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>.

  <p>In addition to the property-specific values listed in their definitions,
   all properties defined in this specification also accept the <a
   href="http://www.w3.org/TR/CSS21/cascade.html#value-def-inherit">inherit</a>
   keyword as their property value. For readability it has not been repeated
   explicitly.

  <h2 id=definitions><span class=secno>4. </span>Definitions</h2>

  <p> When used in this specification, terms have the meanings assigned in
   this section.

  <dl>
   <dt id=TermClientBoundingRect><dfn id=bounding-client-rect>bounding client
    rect</dfn>

   <dd>
    <p> The union of all border boxes for the element that has an associated
     CSS layout box and is not in the <code>http://www.w3.org/2000/svg</code>
     namespace and it's descendant elements. Or the object bounding box <a
     href="#SVG11" rel=biblioentry>[SVG11]<!--{{!SVG11}}--></a>, if the
     element does not have an associated CSS layout box and is in the
     <code>http://www.w3.org/2000/svg</code> namespace (See <a
     href="http://www.w3.org/TR/cssom-view/#dom-element-getboundingclientrect">getBoundingClientRect</a>
     [<a href="#ref-CSSOM">CSSOM</a>]).</p>

   <dt id=TermLocalCoordinateSystem><dfn id=local-coordinate-system>local
    coordinate system</dfn>

   <dd>
    <p> In general, a coordinate system defines locations and distances on
     the current canvas. The current local coordinate system (also user
     coordinate system) is the coordinate system that is currently active and
     which is used to define how coordinates and lengths are located and
     computed, respectively, on the current canvas <a href="#CSS3-TRANSFORMS"
     rel=biblioentry>[CSS3-TRANSFORMS]<!--{{CSS3-TRANSFORMS}}--></a>.</p>

    <p> For elements that have an associated CSS layout box, the current user
     coordinate system has its origin at the top-left corner of the <a
     class=term href="#bounding-client-rect">bounding client rect</a> and one
     unit equals one CSS pixel. The viewport for resolving percentage values
     is defined by the width and height of the <a class=term
     href="#bounding-client-rect">bounding client rect</a>.</p>

    <p> If the element does not have an associated CSS layout box and is in
     the <code>http://www.w3.org/2000/svg</code> namespace, the current local
     coordinate system has its origin at the top-left corner of the element's
     nearest viewport.</p>

   <dt id=TermUserCoordinateSystem><dfn id=user-coordinate-system>user
    coordinate system</dfn>

   <dd> See definition of <a class=term href="#local-coordinate-system">local
    coordinate system</a>.

   <dt id=TermObjectBoundingBoxUnits><dfn id=object-bounding-box-units>object
    bounding box units</dfn>

   <dd> The <a class=term href="#bounding-client-rect">bounding client
    rect</a> defines the coordinate system in which to resolve values, as
    defined in <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/coords.html#ObjectBoundingBoxUnits">object
    bounding box units</a> <a href="#SVG11"
    rel=biblioentry>[SVG11]<!--{{!SVG11}}--></a>.
  </dl>

  <h2 id=the-masking-rendering-model><span class=secno>5. </span>The Masking
   Rendering Model</h2>

  <p>The application of the ‘<a href="#mask"><code
   class=property>mask</code></a>’ or ‘<a href="#mask-image"><code
   class=property>mask-image</code></a>’ properties to an element formatted
   with the CSS box model establishes a pseudo-stacking-context the same way
   that CSS ‘<code class=property>opacity</code>’ does, and all the
   element's descendants are rendered together as a group with the masking
   applied to the group as a whole.

  <p>The ‘<a href="#mask"><code class=property>mask</code></a>’ and ‘<a
   href="#mask-image"><code class=property>mask-image</code></a>’
   properties have no effect on the geometry of the target element's CSS
   boxes.

  <p>The compositing model follows the SVG compositing model <a href="#SVG11"
   rel=biblioentry>[SVG11]<!--{{!SVG11}}--></a>: first any filter effect is
   applied, then any clipping, masking and opacity. These effects all apply
   after any other CSS effects such as ‘<code
   class=property>border</code>’. As per SVG, the application of ‘<a
   href="#mask"><code class=property>mask</code></a>’ or ‘<a
   href="#mask-image"><code class=property>mask-image</code></a>’ has no
   effect on hit-testing.

  <h3 id=layering><span class=secno>5.1. </span>Layering Multiple Mask Images</h3>

  <p>The mask of a box can have multiple <span class=index
   id=layers>layers</span>. The number of layers is determined by the number
   of comma-separated values in the ‘<a href="#mask-image"><code
   class=property>mask-image</code></a>’ property. Note that a value of
   ‘<a href="#none"><code class=property>none</code></a>’ still creates a
   layer.

  <p>Each of the images is sized, positioned, and tiled according to the
   corresponding value in the other mask properties. The lists are matched up
   from the first value: excess values at the end are not used. If a property
   doesn't have enough comma-separated values to match the number of layers,
   the <span>UA</span> must calculate its used value by repeating the list of
   values until there are enough.

  <div class=example>
   <p>For example, this set of declarations:

   <pre>
mask-image: url(flower.png), url(ball.png), url(grass.png);
mask-position: center center, 20% 80%, top left, bottom right;
mask-origin: border-box, content-box;
mask-repeat: no-repeat;
</pre>

   <p>has exactly the same effect as this set with the extra position dropped
    and the missing values for ‘<a href="#mask-origin"><code
    class=property>mask-origin</code></a>’ and ‘<a
    href="#mask-repeat"><code class=property>mask-repeat</code></a>’ filled
    in (emphasized for clarity):

   <pre>
mask-image: url(flower.png), url(ball.png), url(grass1.png);
mask-position: center center, 20% 80%, top left;
mask-origin: border-box, content-box<strong>, border-box</strong>;
mask-repeat: no-repeat<strong>, no-repeat, no-repeat</strong>;
</pre>
  </div>

  <p>The first image in the list is the layer closest to the user, the next
   one is painted behind the first, and so on.

  <h3 id=MaskValues><span class=secno>5.2. </span>Calculating mask values</h3>

  <p class=note> The ability to use the alpha of a mask source as the mask
   values is new in SVG 2. In SVG 1.1 masks always use the luminance of the
   mask source as the mask values.

  <p> A mask source may be interpreted using one of two different methods
   with regards to calculating the mask values that will be multiplied with
   the target alpha values.

  <p> The first and simplest method of calculating the mask values is to use
   the alpha channel of the mask source. In this case the mask value at a
   given point is simply the value of the alpha channel at that point. The
   color channels do not contribute to the mask value.

  <p> The second method of calculating the mask values is to use the
   luminance of the mask source. In this case the mask value at a given point
   is computed from the color channel values and alpha channel value using
   the following procedure.

  <ol>
   <li>Compute a luminance value from the color channel values.
    <ul>
     <li> If the computed value of ‘<code
      class=property>color-interpolation</code>’ on the <a
      class=element-name href=MaskElement>‘<code
      class=property>mask</code>’</a> element is ‘<code
      class=property>linearRGB</code>’, convert the original image color
      values (potentially in the sRGB color space) to the linear RGB color
      space (see <a href="painting.html#RenderingProperties">Rendering
      properties</a>).

     <li>Then, using non-premultiplied RGB color values, apply the
      luminance-to-alpha coefficients (as defined in the <a
      class=element-name
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#feColorMatrixElement">‘<code
      class=property>feColorMatrix</code>’</a> filter primitive
      [[filter-effects]]) to convert the RGB color values to luminance
      values.
    </ul>

   <li>Multiply the computed luminance value by the corresponding alpha value
    to produce the mask value.
  </ol>

  <p>Regardless of the method used, the procedure for calculating mask values
   assumes the content of the mask is a four-channel RGBA graphics object.
   For other types of graphics objects, special handling is required as
   follows.

  <p>For a three-channel RGB graphics object that is used in a mask (e.g.,
   when referencing a three-channel image file), the effect is as if the
   object were converted into a four-channel RGBA image with the alpha
   channel uniformly set to 1.

  <p>For a single-channel image that is used in a mask (e.g., when
   referencing a single-channel grayscale image file), the effect is as if
   the object were converted into a four-channel RGBA image, where the single
   channel from the referenced object is used to compute the three color
   channels and the alpha channel is uniformly set to 1. Note that when
   referencing a grayscale image file, the transfer curve relating the
   encoded grayscale values to linear light values must be taken into account
   when computing the color channels.

  <p class=note>Note that SVG <a class=element-name
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/paths.html#PathElement">‘<code
   class=property>path</code>’</a>s, shapes (e.g., <a class=element-name
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#CircleElement">‘<code
   class=property>circle</code>’</a>) and <a class=element-name
   href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#TextElement">‘<code
   class=property>text</code>’</a> are all treated as four-channel RGBA
   images for the purposes of masking operations.

  <p>The effect of a mask is identical to what would have happened if there
   were no mask but instead the alpha channel of the given object were
   multiplied with the mask's resulting mask values.

  <h2 id=the-mask-image><span class=secno>6. </span>The ‘<a
   href="#mask-image"><code class=property>mask-image</code></a>’ property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-image>mask-image</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltmask-imagegt"><var>&lt;mask-image&gt;</var></a> [ , <a
      href="#ltmask-imagegt"><var>&lt;mask-image&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>none

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified, but with URIs made absolute

    <tr>
     <th>Animatable:

     <td>no
  </table>

  <p>This property sets the mask image(s) of an element. Images are drawn
   with the first specified one on top (closest to the user) and each
   subsequent image behind the previous one. Where

  <pre class=prod><dfn
   id=ltmask-imagegt><var>&lt;mask-image&gt;</var></dfn> = <a
   href="#ltimagegt"><var>&lt;image&gt;</var></a> | none</pre>

  <dl>
   <dt><dfn id=ltimagegt>‘<code class=css><span
    class=xxx>&lt;image&gt;</span></code>’</dfn>

   <dd> A 2D image. (See <a href="#CSS3-IMAGES"
    rel=biblioentry>[CSS3-IMAGES]<!--{{!CSS3-IMAGES}}--></a>.)

   <dt><dfn id=none>‘<code class=css>none</code>’</dfn>

   <dd> A value of ‘<a href="#none"><code class=css>none</code></a>’
    counts as an image layer but does not mask the element.
  </dl>

  <p>A mask image that is empty (zero width or zero height), that fails to
   download, is non-existent or that cannot be displayed (e.g., because it is
   not in a supported image format) gets ignored. No masking is applied.

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-image"><code
   class=property>mask-image</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <p class=note><a
   href="http://www.w3.org/TR/media-frags/#naming-space">Media fragments</a>
   can be used to use a portion of an image as a mask. The <a
   href="http://www.w3.org/TR/css3-images/">CSS Images</a> module will
   provide fallback syntax for image formats and include additional controls
   for image display.

  <div class=example>
   <p>Some examples specifying mask images:</p>

   <pre>
body { mask-image: linear-gradient(black 0%, transparent 100%) }
p { mask-image: none }
div { mask-image: url(tl.png), url(tr.png) }
</pre>
  </div>

  <h2 id=the-mask-repeat><span class=secno>7. </span>The ‘<a
   href="#mask-repeat"><code class=property>mask-repeat</code></a>’
   property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-repeat>mask-repeat</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltrepeat-stylegt"><var>&lt;repeat-style&gt;</var></a> [ ,
      <a href="#ltrepeat-stylegt"><var>&lt;repeat-style&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>repeat

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>A list, each item consisting of: two keywords, one per dimension

    <tr>
     <th>Animatable:

     <td>no
  </table>

  <p>Specifies how mask images are tiled after they have been <a
   href="#the-mask-size">sized</a> and <a
   href="#the-mask-position">positioned</a>. Where

  <pre class=prod><dfn
   id=ltrepeat-stylegt><var>&lt;repeat-style&gt;</var></dfn> = repeat-x | repeat-y | [repeat | space | round | no-repeat]{1,2}</pre>

  <p>Single values for <a
   href="#ltrepeat-stylegt"><var>&lt;repeat-style&gt;</var></a> have the
   following meanings:

  <dl>
   <dt><dfn id=repeat-x>‘<code class=css>repeat-x</code>’</dfn>

   <dd> Computes to ‘<code class=css>repeat no-repeat</code>’.

   <dt><dfn id=repeat-y>‘<code class=css>repeat-y</code>’</dfn>

   <dd> Computes to ‘<code class=css>no-repeat repeat</code>’.

   <dt>‘<code class=css>repeat</code>’

   <dd> Computes to ‘<code class=css>repeat repeat</code>’.

   <dt>‘<code class=css>space</code>’

   <dd> Computes to ‘<code class=css>space space</code>’

   <dt>‘<code class=css>round</code>’

   <dd> Computes to ‘<code class=css>round round</code>’

   <dt>‘<code class=css>no-repeat</code>’

   <dd> Computes to ‘<code class=css>no-repeat no-repeat</code>’
  </dl>

  <p>If a <a href="#ltrepeat-stylegt"><var>&lt;repeat-style&gt;</var></a>
   value has two keywords, the first one is for the horizontal direction, the
   second for the vertical one, as follows:

  <dl>
   <dt><dfn id=repeat title="''repeat''!!'mask-repeat' value">‘<code
    class=css>repeat</code>’</dfn>

   <dd> The image is repeated in this direction as often as needed to cover
    the <a class=index href="#mask-painting-area" id=mask-painting-area0>mask
    painting area</a>.

   <dt><dfn id=space title="''space''!!'mask-repeat' value">‘<code
    class=css>space</code>’</dfn>

   <dd> The image is repeated as often as will fit within the <a class=index
    href="#mask-painting-area" id=mask-painting-area1>mask painting area</a>
    without being clipped and then the images are spaced out to fill the
    area. The first and last images touch the edges of the area. If the <a
    class=index href="#mask-painting-area" id=mask-painting-area2>mask
    painting area</a> is larger than the mask positioning area, then the
    pattern repeats to fill the mask painting area. The value of ‘<a
    href="#mask-position"><code class=property>mask-position</code></a>’
    for this direction is ignored, unless there is not enough space for two
    copies of the image in this direction, in which case only one image is
    placed and ‘<a href="#mask-position"><code
    class=property>mask-position</code></a>’ determines its position in
    this direction.

   <dt><dfn id=round title="''round''!!'mask-repeat' value">‘<code
    class=css>round</code>’</dfn>

   <dd> The image is repeated as often as will fit within the <a class=index
    href="#mask-painting-area" id=mask-painting-area.>mask painting area.</a>
    If it doesn't fit a whole number of times, it is rescaled so that it
    does. See the formula under ‘<a href="#mask-size"><code
    class=property>mask-size</code></a>’. If the <a class=index
    href="#mask-painting-area" id=mask-painting-area3>mask painting area</a>
    is larger than the mask positioning area, then the pattern repeats to
    fill the mask painting area.

   <dt><dfn id=no-repeat title="''no-repeat''!!'mask-repeat' value">‘<code
    class=css>no-repeat</code>’</dfn>

   <dd> The image is placed once and not repeated in this direction.
  </dl>

  <p>Unless one of the two keywords is ‘<code
   class=css>no-repeat</code>’, the whole mask painting area will be tiled,
   i.e., not just one vertical strip and one horizontal strip.

  <div class=example>
   <p style="display:none">Example(s):

   <pre>
body {
  mask: url("pendant.png");
  mask-repeat: repeat-y;
  mask-position: center;
}
</pre>
  </div>

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-repeat"><code
   class=property>mask-repeat</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=the-mask-attachment><span class=secno>8. </span>The ‘<a
   href="#mask-attachment"><code class=property>mask-attachment</code></a>’
   property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-attachment>mask-attachment</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltattachmentgt"><var>&lt;attachment&gt;</var></a> [ , <a
      href="#ltattachmentgt"><var>&lt;attachment&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>scroll

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified

    <tr>
     <th>Animatable:

     <td>no
  </table>

  <p class=issue>The support for ‘<a href="#mask-attachment"><code
   class=property>mask-attachment</code></a>’ may be removed for SVG.

  <p>If mask images are specified, this property specifies whether they are
   fixed with regard to the <em class=index id=viewport>viewport</em> (<dfn
   id=fixed>‘<code class=css>fixed</code>’</dfn>) or scroll along with
   the element (<dfn id=scroll>‘<code class=css>scroll</code>’</dfn>) or
   its contents (<dfn id=local>‘<code class=css>local</code>’</dfn>). The
   property's value is given as a comma-separated list of &lt;attachment&gt;
   keywords where

  <pre class=prod><dfn
   id=ltattachmentgt><var>&lt;attachment&gt;</var></dfn> = scroll | fixed | local</pre>

  <dl>
   <dt><dfn id=fixed0>fixed</dfn>

   <dd>The mask is fixed with regard to the viewport. In paged media where
    there is no viewport, a ‘<a href="#fixed0"><code
    class=css>fixed</code></a>’ background is fixed with respect to the <a
    href="http://www.w3.org/TR/CSS21/page.html#page-box">page box</a> and
    therefore replicated on every page.
    <p class=note>Note that there is only one viewport per view. Even if an
     element has a scrolling mechanism (see the ‘<code
     class=property>overflow</code>’ property <a href="#CSS21"
     rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>), a ‘<a
     href="#fixed0"><code class=css>fixed</code></a>’ background doesn't
     move with the element.

   <dt><dfn id=local0>local</dfn>

   <dd>The mask is fixed with regard to the element's contents: if the
    element has a scrolling mechanism, the mask scrolls with the element's
    contents.

   <dt><dfn id=scroll0>scroll</dfn>

   <dd>The mask is fixed with regard to the element itself and does not
    scroll with its contents. (It is effectively attached to the element's
    border.)
  </dl>

  <p>Even if the image is fixed, it is still only visible when it is in the
   <a href="#mask-painting-area"><em class=index id=mask-painting-area4>mask
   painting area</em></a> of the element.

  <div class=example>
   <p>This example creates an infinite vertical band that remains “glued”
    to the viewport when the element is scrolled.

   <pre>
body {
  mask: url("pendant.gif");
  mask-repeat: repeat-y;
  mask-attachment: fixed;
}
</pre>
  </div>

  <p>User agents that do not support ‘<a href="#fixed0"><code
   class=css>fixed</code></a>’ masks (for example due to limitations of the
   hardware platform) should ignore declarations with the keyword ‘<a
   href="#fixed0"><code class=css>fixed</code></a>’.

  <div class=example>
   <p>Example for browsers that ignore the keyword ‘<a href="#fixed0"><code
    class=css>fixed</code></a>’.

   <pre>
body {
   /* For all UAs: */
   mask: white url(paper.png) scroll;
   /* For UAs that do fixed backgrounds: */
   mask: white url(ledger.png) fixed;
}
h1 {
   /* For all UAs: */
   mask: silver;
   /* For UAs that do fixed backgrounds: */
   mask: url(stripe.png) fixed, white url(ledger.png) fixed;
}
</pre>
  </div>

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-attachment"><code
   class=property>mask-attachment</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=the-mask-position><span class=secno>9. </span>The ‘<a
   href="#mask-position"><code class=property>mask-position</code></a>’
   property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-position>mask-position</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltpositiongt"><var>&lt;position&gt;</var></a> [ , <a
      href="#ltpositiongt"><var>&lt;position&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>0% 0%

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>refer to size of <a class=index href="#mask-painting-area"
      id=mask-painting-area5>mask painting area</a> <em>minus</em> size of
      mask image; see text

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>A list, each item consisting of: two keywords representing the
      origin and two offsets from that origin, each given as an absolute
      length (if given a &lt;length&gt;), otherwise as a percentage.

    <tr>
     <th>Animatable:

     <td>yes
  </table>

  <p>If mask images have been specified, this property specifies their
   initial position (after any <a href="#the-mask-size">resizing</a>) within
   their corresponding <a class=index href="#mask-painting-area"
   id=mask-painting-area6>mask painting area</a>.

  <p>Where

  <pre class=prod><dfn id=ltpositiongt><var>&lt;position&gt;</var></dfn> = [
  [ left | center | right | top | bottom | <var>&lt;percentage&gt;</var> | <var>&lt;length&gt;</var> ]
|
  [ left | center | right | <var>&lt;percentage&gt;</var> | <var>&lt;length&gt;</var> ]
  [ top | center | bottom | <var>&lt;percentage&gt;</var> | <var>&lt;length&gt;</var> ]
|
  [ center | [ left | right ] [ <var>&lt;percentage&gt;</var> | <var>&lt;length&gt;</var> ]? ] &amp;&amp;
  [ center | [ top | bottom ] [ <var>&lt;percentage&gt;</var> | <var>&lt;length&gt;</var> ]? ]
]</pre>

  <p>If only one value is specified, the second value is assumed to be
   ‘<code class=css>center</code>’. If two values are given, a length or
   percentage as the first value represents the horizontal position (or
   offset) and a length or percentage as the second value represents the
   vertical position (or offset). <var>&lt;percentage&gt;</var> and
   <var>&lt;length&gt;</var> values here represent an offset of the top left
   corner of the mask image from the top left corner of the <a class=index
   href="#mask-painting-area" id=mask-painting-area7>mask painting area</a>.

  <p class=note>Note that a pair of keywords can be reordered while a
   combination of keyword and length or percentage cannot. So ‘<code
   class=css>center left</code>’ is valid while ‘<code class=css>50%
   left</code>’ is not.

  <p>If three or four values are given, then each
   <var>&lt;percentage&gt;</var> or<var>&lt;length&gt;</var> represents an
   offset and must be preceded by a keyword, which specifies from which edge
   the offset is given. For example, ‘<code class=css>mask-position: bottom
   10px right 20px</code>’ represents a ‘<code class=css>10px</code>’
   vertical offset up from the bottom edge and a ‘<code
   class=css>20px</code>’ horizontal offset leftward from the right edge.
   If three values are given, the missing offset is assumed to be zero.

  <p>Positive values represent an offset <em>inward</em> from the edge of the
   mask painting area. Negative values represent an offset <em>outward</em>
   from the edge of the mask painting area.

  <div class=example>
   <p>The following declarations give the stated (horizontal, vertical)
    offsets from the top left corner:</p>

   <pre>
 mask-position: left 10px top 15px;   /* 10px, 15px */
 mask-position: left      top     ;   /*  0px,  0px */
 mask-position:      10px     15px;   /* 10px, 15px */
 mask-position: left          15px;   /*  0px, 15px */
 mask-position:      10px top     ;   /* 10px,  0px */
 mask-position: left      top 15px;   /*  0px, 15px */
 mask-position: left 10px top     ;   /* 10px,  0px */</pre>
  </div>

  <dl>
   <dt><var>&lt;percentage&gt;</var>

   <dd>
    <p>A percentage for the horizontal offset is relative to (<var>width of
     mask painting area</var> - <var>width of mask image</var>). A percentage
     for the vertical offset is relative to (<var>height of mask painting
     area</var> - <var>height of mask image</var>), where the size of the
     image is the size given by ‘<a href="#mask-size"><code
     class=property>mask-size</code></a>’.

    <div class=example>
     <p>For example, with a value pair of ‘<code class=css>0% 0%</code>’,
      the upper left corner of the image is aligned with the upper left
      corner of, usually, the box's padding edge. A value pair of ‘<code
      class=css>100% 100%</code>’ places the lower right corner of the
      image in the lower right corner of the area. With a value pair of
      ‘<code class=css>75% 50%</code>’, the point 75% across and 50% down
      the image is to be placed at the point 75% across and 50% down the
      area.

     <div class=figure>
      <p><img alt="Diagram of image position within element" src=bg-pos.png>

      <p class=caption>Diagram of the meaning of ‘<code
       class=css>mask-position: 75% 50%</code>’.
     </div>
    </div>

   <dt><var>&lt;length&gt;</var>

   <dd>A length value gives a fixed length as the offset. For example, with a
    value pair of ‘<code class=css>2cm 1cm</code>’, the upper left corner
    of the image is placed 2cm to the right and 1cm below the upper left
    corner of the mask painting area.

   <dt><dfn id=top title="''top''!!'mask-position' value">‘<code
    class=css>top</code>’</dfn>

   <dd>Computes to ‘<code class=css>0%</code>’ for the vertical position
    if one or two values are given, otherwise specifies the top edge as the
    origin for the next offset.

   <dt><dfn id=right title="''right''!!'mask-position' value">‘<code
    class=css>right</code>’</dfn>

   <dd>Computes to ‘<code class=css>100%</code>’ for the horizontal
    position if one or two values are given, otherwise specifies the right
    edge as the origin for the next offset.

   <dt><dfn id=bottom title="''bottom''!!'mask-position' value">‘<code
    class=css>bottom</code>’</dfn>

   <dd>Computes to ‘<code class=css>100%</code>’ for the vertical
    position if one or two values are given, otherwise specifies the bottom
    edge as the origin for the next offset.

   <dt><dfn id=left title="''left''!!'mask-position' value">‘<code
    class=css>left</code>’</dfn>

   <dd>Computes to ‘<code class=css>0%</code>’ for the horizontal
    position if one or two values are given, otherwise specifies the left
    edge as the origin for the next offset.

   <dt><dfn id=center title="''center''!!'mask-position' value">‘<code
    class=css>center</code>’</dfn>

   <dd>Computes to ‘<code class=css>50%</code>’ (‘<code class=css>left
    50%</code>’) for the horizontal position if the horizontal position is
    not otherwise specified, or ‘<code class=css>50%</code>’ (‘<code
    class=css>top 50%</code>’) for the vertical position if it is.
  </dl>

  <div class=example>
   <p>The following ‘<a href="#mask"><code
    class=property>mask</code></a>’ shorthand declarations use keywords to
    set ‘<a href="#mask-position"><code
    class=property>mask-position</code></a>’ to the stated percentage
    values.</p>

   <pre>
body { mask: url("banner.jpeg") right top }    /* 100%   0% */
body { mask: url("banner.jpeg") top center }   /*  50%   0% */
body { mask: url("banner.jpeg") center }       /*  50%  50% */
body { mask: url("banner.jpeg") bottom }       /*  50% 100% */
</pre>
  </div>

  <div class=example>
   <p>In the example below, the (single) image is placed in the lower-right
    corner of the viewport.

   <pre>
body {
  mask-image: url("logo.png");
  mask-attachment: fixed;
  mask-position: 100% 100%;
  mask-repeat: no-repeat;
}
</pre>
  </div>

  <div class=example>
   <p>Mask positions can also be relative to other corners than the top left.
    E.g., the following puts the background image 10px from the bottom and
    3em from the right:

   <pre>mask-position: right 3em bottom 10px</pre>
  </div>

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-position"><code
   class=property>mask-position</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=the-mask-clip><span class=secno>10. </span>The ‘<a
   href="#mask-clip"><code class=property>mask-clip</code></a>’ property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-clip>mask-clip</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltboxgt"><var>&lt;box&gt;</var></a> [ , <a
      href="#ltboxgt"><var>&lt;box&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>border-box

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified

    <tr>
     <th>Animatable:

     <td>no
  </table>

  <p>Determines the <dfn id=mask-painting-area>mask painting area</dfn>,
   which determines the area that is affected by the mask. The syntax of the
   property is given with

  <pre class=prod><dfn
   id=ltboxgt><var>&lt;box&gt;</var></dfn> = border-box | padding-box | content-box</pre>

  <p>Values have the following meanings:

  <dl>
   <dt><dfn id=border-box title="''border-box''!!'mask-clip' value"> ‘<code
    class=css>border-box</code>’</dfn>

   <dd>The mask is rectricted to (clipped to) the <span>border box.</span>

   <dt><dfn id=padding-box title="''padding-box''!!'mask-clip' value">
    ‘<code class=css>padding-box</code>’</dfn>

   <dd>The mask is rectricted to (clipped to) the <span>padding box.</span>

   <dt><dfn id=content-box title="''content-box''!!'mask-clip' value">
    ‘<code class=css>content-box</code>’</dfn>

   <dd>The mask is rectricted to (clipped to) the <span>content box.</span>
  </dl>

  <p class=note>Note that SVG elements without an associated CSS layout box
   don't have a ‘<code class=css>border-box</code>’ or ‘<code
   class=css>padding-box</code>’ and ‘<a href="#content-box0"><code
   class=css>content-box</code></a>’ is used as mask painting area instead.
   

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-clip"><code
   class=property>mask-clip</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=the-mask-origin><span class=secno>11. </span>The ‘<a
   href="#mask-origin"><code class=property>mask-origin</code></a>’
   property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-origin>mask-origin</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltboxgt"><var>&lt;box&gt;</var></a> [ , <a
      href="#ltboxgt"><var>&lt;box&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>padding-box

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified

    <tr>
     <th>Animatable:

     <td>no
  </table>

  <p>For elements rendered as a single box, specifies the <dfn
   id=mask-positioning-area>mask positioning area</dfn>. For elements
   rendered as multiple boxes (e.g., inline boxes on several lines, boxes on
   several pages) specifies which boxes ‘<code
   class=property>box-decoration-break</code>’ operates on to determine the
   mask positioning area(s).

  <dl>
   <dt><dfn id=padding-box0 title="''padding-box''!!'mask-origin' value">
    ‘<code class=css>padding-box</code>’</dfn>

   <dd>The position is relative to the padding box. (For single boxes
    ‘<code class=css>0 0</code>’ is the upper left corner of the padding
    edge, ‘<code class=css>100% 100%</code>’ is the lower right corner.)

   <dt><dfn id=border-box0 title="''border-box''!!'mask-origin' value">
    ‘<code class=css>border-box</code>’</dfn>

   <dd>The position is relative to the border box.

   <dt><dfn id=content-box0>‘<code class=css>content-box</code>’</dfn>

   <dd>The position is relative to the content box.
  </dl>

  <p>If the ‘<a href="#mask-attachment"><code
   class=property>mask-attachment</code></a>’ value for this image is ‘<a
   href="#fixed0"><code class=css>fixed</code></a>’, then this property has
   no effect: in this case the mask positioning area is the <a
   href="http://www.w3.org/TR/CSS21/visudet.html#containing-block-details">initial
   containing block</a> <a href="#CSS21"
   rel=biblioentry>[CSS21]<!--{{!CSS21}}--></a>.

  <p class=note>Note that if ‘<a href="#mask-clip"><code
   class=property>mask-clip</code></a>’ is ‘<code
   class=css>padding-box</code>’, ‘<a href="#mask-origin"><code
   class=property>mask-origin</code></a>’ is ‘<code
   class=css>border-box</code>’, ‘<a href="#mask-position"><code
   class=property>mask-position</code></a>’ is ‘<code class=css>top
   left</code>’ (the initial value), and the element has a non-zero border,
   then the top and left of the mask image will be clipped.

  <p class=note>Note that SVG elements without an associated CSS layout box
   don't have a ‘<code class=css>border-box</code>’ or ‘<code
   class=css>padding-box</code>’ and ‘<a href="#content-box0"><code
   class=css>content-box</code></a>’ is used as mask positioning area
   instead.

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-origin"><code
   class=property>mask-origin</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=the-mask-size><span class=secno>12. </span>The ‘<a
   href="#mask-size"><code class=property>mask-size</code></a>’ property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-size>mask-size</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltmask-sizegt"><var>&lt;mask-size&gt;</var></a> [ , <a
      href="#ltmask-sizegt"><var>&lt;mask-size&gt;</var></a> ]*

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>see text

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified, but with lengths made absolute

    <tr>
     <th>Animatable:

     <td>yes except keyword values
  </table>

  <p>Specifies the size of the mask images. Where

  <pre class=prod><dfn
   id=ltmask-sizegt><var>&lt;mask-size&gt;</var></dfn> = [ <var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var> | auto ]{1,2} | cover | contain</pre>

  <p>Values have the following meanings:

  <dl>
   <dt><dfn id=contain>‘<code class=css>contain</code>’</dfn>

   <dd>Scale the image, while preserving its intrinsic aspect ratio (if any),
    to the largest size such that both its width and its height can fit
    inside the <a class=index href="#mask-positioning-area"
    id=mask-positioning-area.>mask positioning area.</a>

   <dt><dfn id=cover>‘<code class=css>cover</code>’</dfn>

   <dd>Scale the image, while preserving its intrinsic aspect ratio (if any),
    to the smallest size such that both its width and its height can
    completely cover the mask positioning area.

   <dt>[ <var>&lt;length&gt;</var> | <var>&lt;percentage&gt;</var> | <dfn
    id=auto title="''auto''!!'mask-size' value">auto</dfn> ]{1,2}

   <dd>
    <p>The first value gives the width of the corresponding image, the second
     value its height. If only one value is given the second is assumed to be
     ‘<a href="#auto0"><code class=css>auto</code></a>’.

    <p>A percentage is relative to the background positioning area.

    <p>An ‘<a href="#auto0"><code class=css>auto</code></a>’ value for
     one dimension is resolved by using the image's intrinsic ratio and the
     size of the other dimension, or failing that, using the image's
     intrinsic size, or failing that, treating it as 100%.

    <p>If both values are ‘<a href="#auto0"><code
     class=css>auto</code></a>’ then the intrinsic width and/or height of
     the image should be used, if any, the missing dimension (if any)
     behaving as ‘<a href="#auto0"><code class=css>auto</code></a>’ as
     described above. If the image has neither an intrinsic width nor an
     intrinsic height, its size is determined as for ‘<a
     href="#contain"><code class=css>contain</code></a>’.

    <p>Negative values are not allowed.
  </dl>

  <div class=example>
   <p>Here are some examples. The first example stretches the mask image
    independently in both dimensions to completely cover the content area:

   <pre>
div {
    mask-image: url(plasma.png);
    mask-repeat: no-repeat;
    mask-size: 100% 100%;
    mask-origin: content-box }
</pre>

   <p>The second example stretches the image so that exactly two copies fit
    horizontally. The aspect ratio is preserved:

   <pre>
p {
    mask-image: url(tubes.png);
    mask-size: 50% auto;
    mask-origin: border-box }
</pre>

   <p>This example forces the mask image to be 15 by 15 pixels:

   <pre>
para {
    mask-size: 15px 15px;
    mask-image: url(tile.png)}
</pre>

   <p>This example uses the image's intrinsic size. Note that this is the
    only possible behavior in CSS level 1 and 2.

   <pre>
body {
    mask-size: auto;            /* default */
    mask-image: url(flower.png) }
</pre>

   <p>The following example rounds the height of the image to 33.3%, up from
    the specified value of 30%. At 30%, three images would fit entirely and a
    fourth only partially. After rounding, three images fit. The width of the
    image is 20% of the mask area width and is not rounded.

   <pre>
p {
    mask-image: url(chain.png);
    mask-repeat: no-repeat round;
    mask-size: 20% 30% }
</pre>
  </div>

  <p>If ‘<a href="#mask-repeat"><code
   class=property>mask-repeat</code></a>’ is ‘<code
   class=css>round</code>’ for one (or both) dimensions, there is a second
   step. The UA must scale the image in that dimension (or both dimensions)
   so that it fits a whole number of times in the mask positioning area. In
   the case of the width (height is analogous):

  <blockquote>
   <p>If <var>X</var> ≠ 0 is the width of the image after step one and
    <var>W</var> is the width of the mask positioning area, then the rounded
    width <var>X'</var> = <var>W</var> / round(<var>W</var> / <var>X</var>)
    where round() is a function that returns the nearest natural number
    (integer greater than zero).
  </blockquote>

  <p>If ‘<a href="#mask-repeat"><code
   class=property>mask-repeat</code></a>’ is ‘<code
   class=css>round</code>’ for one dimension only and if ‘<a
   href="#mask-size"><code class=property>mask-size</code></a>’ is ‘<a
   href="#auto0"><code class=css>auto</code></a>’ for the other dimension,
   then there is a third step: that other dimension is scaled so that the
   original aspect ratio is restored.

  <div class=example>
   <p>In this example the mask image is shown at its intrinsic size:

   <pre>
div {
  mask-image: url(image1.png);
  mask-repeat: repeat;         /* default */
  mask-size: auto }            /* default */
</pre>

   <p>In the following example, the mask is shown with a width of 3em and its
    height is scaled proportionally to keep the original aspect ratio:

   <pre>
div {
  mask-image: url(image2.png);
  mask-repeat: repeat;         /* default */
  mask-size: 3em }             /* = '3em auto' */
</pre>

   <p>In the following example, the mask is shown with a width of
    approximately 3em: scaled so that it fits a whole number of times in the
    width of the mask. The height is scaled proportionally to keep the
    original aspect ratio:

   <pre>
div {
  mask-image: url(image3.png);
  mask-repeat: round repeat;
  mask-size: 3em auto }
</pre>

   <p>In the following example, the mask image is shown with a width of 3em
    and a height that is either the height corresponding to that width at the
    original aspect ratio or slightly less:

   <pre>
div {
  mask-image: url(image4.png);
  mask-repeat: repeat round;
  mask-size: 3em auto }
</pre>

   <p>In the following example, the mask image is shown with a height of
    approximately 4em: scaled slightly so that it fits a whole number of
    times in the mask height. The width is the approximately the width that
    correspond to a 4em height at the original aspect ratio: scaled slightly
    so that it fits a whole number of times in the mask width.

   <pre>
div {
  mask-image: url(image5.png);
  mask-repeat: round;
  mask-size: auto 4em }
</pre>
  </div>

  <p>If the mask image's width or height resolves to zero, this causes the
   image not to be displayed. (The effect is the same as if it had been a
   transparent image.)

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-size"><code
   class=property>mask-size</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=the-mask-type><span class=secno>13. </span>The ‘<a
   href="#mask-type"><code class=property>mask-type</code></a>’ property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask-type>mask-type</dfn>

    <tr>
     <th><a href="#values">Value</a>:

     <td><a href="#ltmask-typegt"><var>&lt;mask-type&gt;</var></a>

    <tr>
     <th>Initial:

     <td>auto

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>N/A

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>as specified

    <tr>
     <th>Animatable:

     <td>yes except keyword values
  </table>

  <p>The mask type determines which of the methods described in <a
   href="#MaskValues">Calculating mask values</a> should be used for
   calculating mask values from the mask source / the layer of mask images.
   Where

  <pre class=prod><dfn
   id=ltmask-typegt><var>&lt;mask-type&gt;</var></dfn> = luminance | alpha | auto</pre>

  <p>Values have the following meanings:

  <dl>
   <dt><dfn id=luminance>‘<code class=css>luminance</code>’</dfn>

   <dd>Indicates that the luminance values of the mask source should be used
    as the mask values.

   <dt><dfn id=alpha>‘<code class=css>alpha</code>’</dfn>

   <dd>Indicates that the alpha values of the mask source should be used as
    the mask values.

   <dt><dfn id=auto0>‘<code class=css>auto</code>’</dfn>

   <dd>If the mask source is a <a class=element-name
    href=MaskElement>‘<code class=property>mask</code>’</a> element, the
    method used for calculating the mask values is determined by the ‘<code
    class=property>maskType</code>’ attribute on the <a class=element-name
    href=MaskElement>‘<code class=property>mask</code>’</a> element.
    Otherwise, the alpha values of the mask source should be used as the mask
    values.
    <p class=issue>Should the default be ‘<a href="#luminance"><code
     class=css>luminance</code></a>’ instead?
  </dl>

  <p>See the section <a href="#layering">“Layering multiple mask
   images”</a> for how ‘<a href="#mask-type"><code
   class=property>mask-type</code></a>’ interacts with other
   comma-separated mask properties to form each mask image layer.

  <h2 id=mask-property><span class=secno>14. </span>The ‘<a
   href="#mask"><code class=property>mask</code></a>’ property</h2>

  <table class=propdef>
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=MaskProperty>mask</dfn>

    <tr>
     <th>Value:

     <td><a href="#ltmask-sourcegt"><var>&lt;mask-source&gt;</var></a> | [ <a
      href="#ltmask-layergt"><var>&lt;mask-layer&gt;</var></a> [, <a
      href="#ltmask-layergt"><var>&lt;mask-layer&gt;</var></a> ]* ] <a
      href="#ltmask-typegt"><var>&lt;mask-type&gt;</var></a>?

    <tr>
     <th>Initial:

     <td>see individual properties

    <tr>
     <th>Applies to:

     <td>All elements. In SVG, it applies to <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermContainerElement">container
      elements</a> and <a
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermGraphicsElement">graphics
      elements</a>

    <tr>
     <th>Inherited:

     <td>no

    <tr>
     <th>Percentages:

     <td>see individual properties

    <tr>
     <th>Media:

     <td>visual

    <tr>
     <th>Computed value:

     <td>see individual properties

    <tr>
     <th><span class=xxx>Animatable</span>:

     <td>see individual properties
  </table>

  <p>Where

  <pre class=prod><dfn
   id=ltmask-layergt><var>&lt;mask-layer&gt;</var></dfn> = &lt;mask-image&gt; || &lt;position&gt; [ / &lt;mask-size&gt; ]? || &lt;repeat-style&gt; || &lt;attachment&gt; || &lt;box&gt;{1,2}</pre>

  <pre class=prod><dfn
   id=ltmask-sourcegt><var>&lt;mask-source&gt;</var></dfn> = <var>&lt;FuncIRI&gt;</var> |  child | select(<var>&lt;compound-selector&gt;</var>)</pre>

  <dl>
   <dt> <dfn id=ltfuncirigt>‘<code class=css><a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/types.html#DataTypeFuncIRI">&lt;FuncIRI&gt;</a></code>’</dfn>
    

   <dd> An <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/intro.html#TermIRIReference">IRI
    reference</a> to a <a class=element-name href=MaskElement>‘<code
    class=property>mask</code>’</a> element that defines the filter effect.
    For example ‘<code class=css>url(commonmasks.xml#mask)</code>’.

   <dt><dfn id=child>‘<code class=css>child</code>’</dfn>

   <dd> A keyword to indicate that the last child <a class=element-name
    href=MaskElement>‘<code class=property>mask</code>’</a> element
    should be used as the mask source. It is equivalent to ‘<code
    class=css>select(mask:last-of-type)</code>’.

   <dt><dfn id=selectltcompound-selectorgt>‘<code class=css>select(<var><a
    href="types.html#DataTypeCompoundSelector">&lt;compound-selector&gt;</a></var>)</code>’</dfn>

   <dd>A <var><span class=xxx>&lt;compound-selector&gt;</span></var> scoped
    at the element to which the ‘<a href="#mask"><code
    class=property>mask</code></a>’ property is applied specifying the
    element to use as the mask source. As a result, only children of the
    target element may be used for the mask source.
  </dl>

  <p>An invalid or non-existent mask source gets ignored and no masking is
   applied.

  <h2 id=MaskElement><span class=secno>15. </span>The <a class=element-name
   href="#mask">‘<code class=property>mask</code>’</a> element</h2>

  <table class=propdef summary="mask element">
   <tbody>
    <tr>
     <th>Name:

     <td><dfn id=mask>mask</dfn>

    <tr>
     <th>Categories:

     <td><a href="intro.html#TermContainerElement">Container element</a>

    <tr>
     <th>Content model:

     <td>Any number of the following elements, in any order:
      <ul class=no-bullets>
       <li><a href="intro.html#TermAnimationElement">animation</a> <span
        class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/animate.html#AnimateElement"><span
        class=element-name>‘animate’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/animate.html#AnimateColorElement"><span
        class=element-name>‘animateColor’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/animate.html#AnimateMotionElement"><span
        class=element-name>‘animateMotion’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/animate.html#AnimateTransformElement"><span
        class=element-name>‘animateTransform’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/animate.html#SetElement"><span
        class=element-name>‘set’</span></a></span>

       <li><a href="intro.html#TermDescriptiveElement">descriptive</a> <span
        class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#DescElement"><span
        class=element-name>‘desc’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#TitleElement"><span
        class=element-name>‘title’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/metadata.html#MetadataElement"><span
        class=element-name>‘metadata’</span></a></span>

       <li><a href="intro.html#TermShapeElement">shape</a> <span
        class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#CircleElement"><span
        class=element-name>‘circle’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#EllipseElement"><span
        class=element-name>‘ellipse’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#LineElement"><span
        class=element-name>‘line’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/paths.html#PathElement"><span
        class=element-name>‘path’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#PolygonElement"><span
        class=element-name>‘polygon’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#PolylineElement"><span
        class=element-name>‘polyline’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#RectElement"><span
        class=element-name>‘rect’</span></a></span>

       <li><a href="intro.html#TermStructuralElement">structural</a> <span
        class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#DefsElement"><span
        class=element-name>‘defs’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#GElement"><span
        class=element-name>‘g’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#SVGElement"><span
        class=element-name>‘svg’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#SymbolElement"><span
        class=element-name>‘symbol’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#UseElement"><span
        class=element-name>‘use’</span></a></span>

       <li><a href="intro.html#TermGradientElement">gradient</a> <span
        class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/pservers.html#LinearGradientElement"><span
        class=element-name>‘linearGradient’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/pservers.html#RadialGradientElement"><span
        class=element-name>‘radialGradient’</span></a></span>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/linking.html#AElement"><span
        class=element-name>‘a’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/masking.html#ClipPathElement"><span
        class=element-name>‘clipPath’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/color.html#ColorProfileElement"><span
        class=element-name>‘color-profile’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/interact.html#CursorElement"><span
        class=element-name>‘cursor’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#FilterElement"><span
        class=element-name>‘filter’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/fonts.html#FontElement"><span
        class=element-name>‘font’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/fonts.html#FontFaceElement"><span
        class=element-name>‘font-face’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/extend.html#ForeignObjectElement"><span
        class=element-name>‘foreignObject’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#ImageElement"><span
        class=element-name>‘image’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#MarkerElement"><span
        class=element-name>‘marker’</span></a>

       <li><a href=MaskElement><span class=element-name>‘mask’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/pservers.html#PatternElement"><span
        class=element-name>‘pattern’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/script.html#ScriptElement"><span
        class=element-name>‘script’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#StyleElement"><span
        class=element-name>‘style’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#SwitchElement"><span
        class=element-name>‘switch’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/linking.html#ViewElement"><span
        class=element-name>‘view’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#TextElement"><span
        class=element-name>‘text’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#AltGlyphDefElement"><span
        class=element-name>‘altGlyphDef’</span></a>
      </ul>

    <tr>
     <th>Attributes:

     <td>
      <ul class=no-bullets>
       <li><a
        href="intro.html#TermConditionalProcessingAttribute">conditional
        processing attributes</a><span class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#RequiredFeaturesAttribute"><span
        class=attr-name>‘requiredFeatures’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#RequiredExtensionsAttribute"><span
        class=attr-name>‘requiredExtensions’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#SystemLanguageAttribute"><span
        class=attr-name>‘systemLanguage’</span></a></span>

       <li><a href="intro.html#TermCoreAttributes">core attributes</a><span
        class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#IDAttribute"><span
        class=attr-name>‘id’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#XMLBaseAttribute"><span
        class=attr-name>‘xml:base’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#XMLLangAttribute"><span
        class=attr-name>‘xml:lang’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#XMLSpaceAttribute"><span
        class=attr-name>‘xml:space’</span></a></span>

       <li><a href="intro.html#TermPresentationAttribute">presentation
        attributes</a><span class=expanding> — <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#AlignmentBaselineProperty"><span
        class=attr-name>‘alignment-baseline’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#BaselineShiftProperty"><span
        class=attr-name>‘baseline-shift’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/masking.html#ClipProperty"><span
        class=attr-name>‘clip’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/masking.html#ClipPathProperty"><span
        class=attr-name>‘clip-path’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/masking.html#ClipRuleProperty"><span
        class=attr-name>‘clip-rule’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/color.html#ColorProperty"><span
        class=attr-name>‘color’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#ColorInterpolationProperty"><span
        class=attr-name>‘color-interpolation’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#ColorInterpolationFiltersProperty"><span
        class=attr-name>‘color-interpolation-filters’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/color.html#ColorProfileProperty"><span
        class=attr-name>‘color-profile’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#ColorRenderingProperty"><span
        class=attr-name>‘color-rendering’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/interact.html#CursorProperty"><span
        class=attr-name>‘cursor’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#DirectionProperty"><span
        class=attr-name>‘direction’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#DisplayProperty"><span
        class=attr-name>‘display’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#DominantBaselineProperty"><span
        class=attr-name>‘dominant-baseline’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#EnableBackgroundProperty"><span
        class=attr-name>‘enable-background’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#FillProperty"><span
        class=attr-name>‘fill’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#FillOpacityProperty"><span
        class=attr-name>‘fill-opacity’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#FillRuleProperty"><span
        class=attr-name>‘fill-rule’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#FilterProperty"><span
        class=attr-name>‘filter’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#FloodColorProperty"><span
        class=attr-name>‘flood-color’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#FloodOpacityProperty"><span
        class=attr-name>‘flood-opacity’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontProperty"><span
        class=attr-name>‘font’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontFamilyProperty"><span
        class=attr-name>‘font-family’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontSizeProperty"><span
        class=attr-name>‘font-size’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontSizeAdjustProperty"><span
        class=attr-name>‘font-size-adjust’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontStretchProperty"><span
        class=attr-name>‘font-stretch’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontStyleProperty"><span
        class=attr-name>‘font-style’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontVariantProperty"><span
        class=attr-name>‘font-variant’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#FontWeightProperty"><span
        class=attr-name>‘font-weight’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#GlyphOrientationHorizontalProperty"><span
        class=attr-name>‘glyph-orientation-horizontal’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#GlyphOrientationVerticalProperty"><span
        class=attr-name>‘glyph-orientation-vertical’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#ImageRenderingProperty"><span
        class=attr-name>‘image-rendering’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#KerningProperty"><span
        class=attr-name>‘kerning’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#LetterSpacingProperty"><span
        class=attr-name>‘letter-spacing’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/filters.html#LightingColorProperty"><span
        class=attr-name>‘lighting-color’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#MarkerProperty"><span
        class=attr-name>‘marker’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#MarkerEndProperty"><span
        class=attr-name>‘marker-end’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#MarkerMidProperty"><span
        class=attr-name>‘marker-mid’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#MarkerStartProperty"><span
        class=attr-name>‘marker-start’</span></a>, <a
        href=MaskProperty><span class=attr-name>‘mask’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/masking.html#OpacityProperty"><span
        class=attr-name>‘opacity’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/masking.html#OverflowProperty"><span
        class=attr-name>‘overflow’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/interact.html#PointerEventsProperty"><span
        class=attr-name>‘pointer-events’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#ShapeRenderingProperty"><span
        class=attr-name>‘shape-rendering’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/pservers.html#StopColorProperty"><span
        class=attr-name>‘stop-color’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/pservers.html#StopOpacityProperty"><span
        class=attr-name>‘stop-opacity’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeProperty"><span
        class=attr-name>‘stroke’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeDasharrayProperty"><span
        class=attr-name>‘stroke-dasharray’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeDashoffsetProperty"><span
        class=attr-name>‘stroke-dashoffset’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeLinecapProperty"><span
        class=attr-name>‘stroke-linecap’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeLinejoinProperty"><span
        class=attr-name>‘stroke-linejoin’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeMiterlimitProperty"><span
        class=attr-name>‘stroke-miterlimit’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeOpacityProperty"><span
        class=attr-name>‘stroke-opacity’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#StrokeWidthProperty"><span
        class=attr-name>‘stroke-width’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#TextAnchorProperty"><span
        class=attr-name>‘text-anchor’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#TextDecorationProperty"><span
        class=attr-name>‘text-decoration’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#TextRenderingProperty"><span
        class=attr-name>‘text-rendering’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#UnicodeBidiProperty"><span
        class=attr-name>‘unicode-bidi’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/painting.html#VisibilityProperty"><span
        class=attr-name>‘visibility’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#WordSpacingProperty"><span
        class=attr-name>‘word-spacing’</span></a>, <a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/text.html#WritingModeProperty"><span
        class=attr-name>‘writing-mode’</span></a></span>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#ClassAttribute"><span
        class=attr-name>‘class’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/styling.html#StyleAttribute"><span
        class=attr-name>‘style’</span></a>

       <li><a
        href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#ExternalResourcesRequiredAttribute"><span
        class=attr-name>‘externalResourcesRequired’</span></a>

       <li><a href="#MaskElementXAttribute"><span
        class=attr-name>‘x’</span></a>

       <li><a href="#MaskElementYAttribute"><span
        class=attr-name>‘y’</span></a>

       <li><a href="#MaskElementWidthAttribute"><span
        class=attr-name>‘width’</span></a>

       <li><a href="#MaskElementHeightAttribute"><span
        class=attr-name>‘height’</span></a>

       <li><a href="#MaskElementMaskUnitsAttribute"><span
        class=attr-name>‘maskUnits’</span></a>

       <li><a href="#MaskElementMaskContentUnitsAttribute"><span
        class=attr-name>‘maskContentUnits’</span></a>

       <li><a href="#MaskElementMaskTypeAttribute"><span
        class=attr-name>‘maskType’</span></a>
      </ul>

    <tr>
     <th>DOM Interfaces:

     <td><a class=idlinterface
      href="#InterfaceSVGMaskElement">SVGMaskElement</a>
  </table>
  <edit:with element=mask> <edit:elementsummary name=mask>
  <div class=adef-list>
   <p><em>Attribute definitions:</em></p>

   <dl>
    <dt id=MaskElementMaskUnitsAttribute><span class=adef>maskUnits</span> =
     "<em>userSpaceOnUse</em> | <em>objectBoundingBox</em>"

    <dd>Defines the coordinate system for attributes <a class=attr-name
     href="#MaskElementXAttribute">‘<code class=property>x</code>’</a>,
     <a class=attr-name href="#MaskElementYAttribute">‘<code
     class=property>y</code>’</a>, <a class=attr-name
     href="#MaskElementWidthAttribute">‘<code
     class=property>width</code>’</a> and <a class=attr-name
     href="#MaskElementHeightAttribute">‘<code
     class=property>height</code>’</a>.<br>
     If <span class=attr-value>maskUnits="userSpaceOnUse"</span>, <a
     class=attr-name href="#MaskElementXAttribute">‘<code
     class=property>x</code>’</a>, <a class=attr-name
     href="#MaskElementYAttribute">‘<code class=property>y</code>’</a>,
     <a class=attr-name href="#MaskElementWidthAttribute">‘<code
     class=property>width</code>’</a> and <a class=attr-name
     href="#MaskElementHeightAttribute">‘<code
     class=property>height</code>’</a> represent values in the current user
     coordinate system in place at the time when the <a class=element-name
     href=MaskElement>‘<code class=property>mask</code>’</a> element is
     referenced (i.e., the user coordinate system for the element referencing
     the <a class=element-name href=MaskElement>‘<code
     class=property>mask</code>’</a> element via the ‘<a
     href="#mask"><code class=property>mask</code></a>’ property).<br>
     If <span class=attr-value>maskUnits="objectBoundingBox"</span>, <a
     class=attr-name href="#MaskElementXAttribute">‘<code
     class=property>x</code>’</a>, <a class=attr-name
     href="#MaskElementYAttribute">‘<code class=property>y</code>’</a>,
     <a class=attr-name href="#MaskElementWidthAttribute">‘<code
     class=property>width</code>’</a> and <a class=attr-name
     href="#MaskElementHeightAttribute">‘<code
     class=property>height</code>’</a> represent fractions or percentages
     of the bounding box of the element to which the mask is applied. (See <a
     class=term href="#object-bounding-box-units">object bounding box
     units</a>.)<br>
     If attribute <a class=attr-name
     href="#MaskElementMaskUnitsAttribute">‘<code
     class=property>maskUnits</code>’</a> is not specified, then the effect
     is as if a value of <span class=attr-value>‘<code
     class=property>objectBoundingBox</code>’</span> were specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>

    <dt id=MaskElementMaskContentUnitsAttribute><span
     class=adef>maskContentUnits</span> = "<em>userSpaceOnUse</em> |
     <em>objectBoundingBox</em>"

    <dd>Defines the coordinate system for the contents of the <a
     class=element-name href=MaskElement>‘<code
     class=property>mask</code>’</a>.<br>
     If <span class=attr-value>maskContentUnits="userSpaceOnUse"</span>, the
     user coordinate system for the contents of the <a class=element-name
     href=MaskElement>‘<code class=property>mask</code>’</a> element is
     the current user coordinate system in place at the time when the <a
     class=element-name href=MaskElement>‘<code
     class=property>mask</code>’</a> element is referenced (i.e., the user
     coordinate system for the element referencing the <a class=element-name
     href=MaskElement>‘<code class=property>mask</code>’</a> element via
     the ‘<a href="#mask"><code class=property>mask</code></a>’
     property).<br>
     If <span class=attr-value>maskContentUnits="objectBoundingBox"</span>,
     the user coordinate system for the contents of the <a class=element-name
     href=MaskElement>‘<code class=property>mask</code>’</a> is
     established using the bounding box of the element to which the mask is
     applied. (See <a class=term href="#object-bounding-box-units">object
     bounding box units</a>.)<br>
     If attribute <a class=attr-name
     href="#MaskElementMaskContentUnitsAttribute">‘<code
     class=property>maskContentUnits</code>’</a> is not specified, then the
     effect is as if a value of <span class=attr-value>‘<code
     class=property>userSpaceOnUse</code>’</span> were specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>

    <dt id=MaskElementMaskTypeAttribute><span class=adef>maskType</span> =
     "<a href="#luminance"><em>luminance</em></a> | <a
     href="#alpha"><em>alpha</em></a>"

    <dd> Defines the procedure used for calculating mask values from the
     contents of the mask as described in <a href="#MaskValues">Calculating
     mask values</a>. <br>
     If attribute <a class=attr-name
     href="#MaskElementMaskTypeAttribute">‘<code
     class=property>maskType</code>’</a> is not specified, then the effect
     is as if a value of <a class=attr-value href="#luminance">‘<code
     class=property>luminance</code>’</a> were specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>
     <div class=annotation> Although authors may find <a class=attr-value
      href="#alpha">‘<code class=property>alpha</code>’</a> more
      intuitive, the default value is <a class=attr-value
      href="#luminance">‘<code class=property>luminance</code>’</a> to
      provide backwards compatibility with SVG 1.1.</div>

    <dt id=MaskElementXAttribute><span class=adef>x</span> = "<span
     class=attr-value><a
     href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a></span>"

    <dd>The x-axis coordinate of one corner of the rectangle for the largest
     possible offscreen buffer. Note that the clipping path used to render
     any graphics within the mask will consist of the intersection of the
     current clipping path associated with the given object and the rectangle
     defined by <a class=attr-name href="#MaskElementXAttribute">‘<code
     class=property>x</code>’</a>, <a class=attr-name
     href="#MaskElementYAttribute">‘<code class=property>y</code>’</a>,
     <a class=attr-name href="#MaskElementWidthAttribute">‘<code
     class=property>width</code>’</a> and <a class=attr-name
     href="#MaskElementHeightAttribute">‘<code
     class=property>height</code>’</a>.<br>
     If the attribute is not specified, the effect is as if a value of <span
     class=attr-value>‘<code class=css>-10%</code>’</span> were
     specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>

    <dt id=MaskElementYAttribute><span class=adef>y</span> = "<span
     class=attr-value><a
     href="types.html#DataTypeCoordinate">&lt;coordinate&gt;</a></span>"

    <dd>The y-axis coordinate of one corner of the rectangle for the largest
     possible offscreen buffer.<br>
     If the attribute is not specified, the effect is as if a value of <span
     class=attr-value>‘<code class=css>-10%</code>’</span> were
     specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>

    <dt id=MaskElementWidthAttribute><span class=adef>width</span> = "<span
     class=attr-value><a
     href="types.html#DataTypeLength">&lt;length&gt;</a></span>"

    <dd>The width of the largest possible offscreen buffer. Note that the
     clipping path used to render any graphics within the mask will consist
     of the intersection of the current clipping path associated with the
     given object and the rectangle defined by <a class=attr-name
     href="#MaskElementXAttribute">‘<code class=property>x</code>’</a>,
     <a class=attr-name href="#MaskElementYAttribute">‘<code
     class=property>y</code>’</a>, <a class=attr-name
     href="#MaskElementWidthAttribute">‘<code
     class=property>width</code>’</a> and <a class=attr-name
     href="#MaskElementHeightAttribute">‘<code
     class=property>height</code>’</a>.<br>
     A negative value or a value of zero disables rendering of the
     element.<br>
     If the attribute is not specified, the effect is as if a value of <span
     class=attr-value>‘<code class=css>120%</code>’</span> were
     specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>

    <dt id=MaskElementHeightAttribute><span class=adef>height</span> = "<span
     class=attr-value><a
     href="types.html#DataTypeLength">&lt;length&gt;</a></span>"

    <dd>The height of the largest possible offscreen buffer.<br>
     A negative value or a value of zero disables rendering of the
     element.<br>
     If the attribute is not specified, the effect is as if a value of <span
     class=attr-value>‘<code class=css>120%</code>’</span> were
     specified.<br>
     <span class=anim-target><a
     href="animate.html#Animatable">Animatable</a>: yes.</span>
   </dl>
  </div>

  <p><a href="styling.html#SVGStylingProperties">Properties</a> inherit into
   the <a class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element from its ancestors; properties
   do <em>not</em> inherit from the element referencing the <a
   class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element.</p>

  <p><a class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> elements are never rendered directly;
   their only usage is as something that can be referenced using the ‘<a
   href="#mask"><code class=property>mask</code></a>’ property. The
   ‘<code class=property>opacity</code>’, ‘<code
   class=property>filter</code>’ and ‘<code
   class=property>display</code>’ properties do not apply to the <a
   class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element; thus, <a class=element-name
   href=MaskElement>‘<code class=property>mask</code>’</a> elements are
   not directly rendered even if the ‘<code
   class=property>display</code>’ property is set to a value other than
   ‘<a href="#none"><code class=property>none</code></a>’, and <a
   class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> elements are available for referencing
   even when the ‘<code class=property>display</code>’ property on the <a
   class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element or any of its ancestors is set
   to <a class=prop-value href="#none">none</a>.</p>

  <h3 id=DirectMaskSource><span class=secno>15.1. </span>Directly referencing
   a mask source</h3>

  <p class=issue> The section gets possibly removed, since it duplicates
   functionality of CSS4 Images and the <code>element()</code> function.</p>

  <p class=note> The ability to reference non-<a class=element-name
   href=MaskElement>‘<code class=property>mask</code>’</a> content is new
   in SVG 2.</p>

  <p> In some cases the <a class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element used to wrap mask source content
   is superfluous and it is more convenient to directly refer to the content
   to be used as a mask source instead. For example, when the the mask source
   is a raster image applied only once it is more convenient to refer
   directly to the image than first wrapping it in a <a class=element-name
   href=MaskElement>‘<code class=property>mask</code>’</a> element.</p>

  <p> Besides a <a class=element-name href=MaskElement>‘<code
   class=property>mask</code>’</a> element, the ‘<a href="#mask"><code
   class=property>mask</code></a>’ property may refer the following types
   of mask source content:</p>

  <ul>
   <li>a <a href=pservers.html>paint server</a> element,

   <li>any other element that is permitted as a child of the <span
    class=xxx>‘<code class=css>mask element</code>’</span> element,

   <li>an <a class=element-name
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#SVGElement">‘<code
    class=property>svg</code>’</a> element or external SVG document,

   <li>any raster image file supported by the <a class=element-name
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/struct.html#ImageElement">‘<code
    class=property>image</code>’</a> element.
  </ul>

  <p> The effect of referring directly to content as a mask source depends on
   the type of the source content.</p>

  <dl>
   <dt> When the mask source content is a <a href=pservers.html>paint
    server</a> element,

   <dd>
    <p> The effect is as if the following steps were performed:</p>

    <ol>
     <li>Create a new <a class=element-name href=MaskElement>‘<code
      class=property>mask</code>’</a> element as a sibling of the paint
      server element.

     <li>Let the <a class=attr-name
      href="#MaskElementMaskUnitsAttribute">‘<code
      class=property>maskUnits</code>’</a> attribute be <span
      class=attr-value>‘<code
      class=property>userSpaceOnUse</code>’</span>.

     <li>Let the dimensions of the mask (<a class=attr-name
      href="#MaskElementXAttribute">‘<code class=property>x</code>’</a>,
      <a class=attr-name href="#MaskElementYAttribute">‘<code
      class=property>y</code>’</a>, <a class=attr-name
      href="#MaskElementWidthAttribute">‘<code
      class=property>width</code>’</a>, and <a class=attr-name
      href="#MaskElementHeightAttribute">‘<code
      class=property>height</code>’</a>) match the dimensions of the <span
      class=xxx>decorated bounding box</span> of the mask target.

     <li>Let the <a class=attr-name
      href="#MaskElementMaskContentUnitsAttribute">‘<code
      class=property>maskContentUnits</code>’</a> attribute be <span
      class=attr-value>‘<code
      class=property>objectBoundingBox</code>’</span>.

     <li>Create a new <a class=element-name
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#RectElement">‘<code
      class=property>rect</code>’</a> element as a child of the newly
      created <a class=element-name href=MaskElement>‘<code
      class=property>mask</code>’</a> element.

     <li>Let both the width and the height of the <a class=element-name
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#RectElement">‘<code
      class=property>rect</code>’</a> element be <span
      class=attr-value>‘<code class=css>100%</code>’</span>.

     <li>Let the <a class=attr-name
      href="animate.html#FillAttribute">‘<code
      class=property>fill</code>’</a> property of the <a class=element-name
      href="http://www.w3.org/TR/2011/REC-SVG11-20110816/shapes.html#RectElement">‘<code
      class=property>rect</code>’</a> element refer to the paint server
      element.

     <li>Use the newly created <a class=element-name
      href=MaskElement>‘<code class=property>mask</code>’</a> as the mask
      source.
    </ol>

   <dt> When the mask source content is any other permitted SVG element
    (including an SVG element in an external document),

   <dd>
    <p> The effect is as if the following steps were performed:</p>

    <ol>
     <li>Create a new <a class=element-name href=MaskElement>‘<code
      class=property>mask</code>’</a> element as a sibling of the source
      element.

     <li>Let the <a class=attr-name
      href="#MaskElementMaskUnitsAttribute">‘<code
      class=property>maskUnits</code>’</a> attribute be <span
      class=attr-value>‘<code
      class=property>userSpaceOnUse</code>’</span>.

     <li>Let the dimensions of the mask (<a class=attr-name
      href="#MaskElementXAttribute">‘<code class=property>x</code>’</a>,
      <a class=attr-name href="#MaskElementYAttribute">‘<code
      class=property>y</code>’</a>, <a class=attr-name
      href="#MaskElementWidthAttribute">‘<code
      class=property>width</code>’</a>, and <a class=attr-name
      href="#MaskElementHeightAttribute">‘<code
      class=property>height</code>’</a>) match the dimensions of the <span
      class=xxx>decorated bounding box</span> of the mask target.

     <li>Deep clone the source element and append it as a child of the newly
      created <a class=element-name href=MaskElement>‘<code
      class=property>mask</code>’</a> element.

     <li>Use the newly created <a class=element-name
      href=MaskElement>‘<code class=property>mask</code>’</a> as the mask
      source.
    </ol>

    <p> One important result of this procedure is that the rendering of the
     source content is unaffected by being referenced as a mask source.</p>

   <dt> When the mask source content is an external image resource (e.g. a
    raster image file or an external SVG document),

   <dd> The image is rendered into the mask buffer at 0,0 in the current user
    coordinate space in place at the time when the ‘<a href="#mask"><code
    class=property>mask</code></a>’ property is applied. The dimensions of
    the image is established by following the <a
    href="http://www.w3.org/TR/css3-images/#object-negotiation"> CSS⇋Object
    Negotation algorithm</a> defined in [<a
    href="refs.html#ref-CSS3IMAGES">CSS3IMAGES</a>]. The dimensions of the
    mask are set to match the dimensions of the image.

   <dt> Otherwise,

   <dd> The type of source content is unsupported and the ‘<a
    href="#mask"><code class=property>mask</code></a>’ property is
    considered to have an unsupported value.
  </dl>

  <p> Despite the ability to refer to mask source content directly, the <span
   class=xxx>‘<code class=css>mask element</code>’</span> element still
   has many uses including the following:</p>

  <ul>
   <li>To prevent the mask source content from rendering

   <li>To specify the bounds of the masking region

   <li>To make the coordinate system of the mask source content relative to
    the bounds of the mask target (by setting <a class=attr-name
    href="#MaskElementMaskContentUnitsAttribute">‘<code
    class=property>maskContentUnits</code>’</a> to <span
    class=attr-value>‘<code
    class=property>objectBoundingBox</code>’</span>)

   <li>To add a level of semantic richness to the document by differentiating
    mask source content from other graphical content
  </ul>
  </edit:elementsummary></edit:with>
  <h2 class=no-num id=references> References</h2>

  <h3 class=no-num id=normative-references> Normative references</h3>
  <!--begin-normative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS21>[CSS21]

   <dd>Bert Bos; et al. <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607"><cite>Cascading Style
    Sheets Level 2 Revision 1 (CSS 2.1) Specification.</cite></a> 7 June
    2011. W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-CSS2-20110607">http://www.w3.org/TR/2011/REC-CSS2-20110607</a>
    </dd>
   <!---->

   <dt id=CSS3-IMAGES>[CSS3-IMAGES]

   <dd>Elika J. Etemad; Tab Atkins Jr. <a
    href="http://www.w3.org/TR/2012/CR-css3-images-20120417/"><cite>CSS Image
    Values and Replaced Content Module Level 3.</cite></a> 17 April 2012. W3C
    Candidate Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/CR-css3-images-20120417/">http://www.w3.org/TR/2012/CR-css3-images-20120417/</a>
    </dd>
   <!---->

   <dt id=SVG11>[SVG11]

   <dd>Erik Dahlström; et al. <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/"><cite>Scalable
    Vector Graphics (SVG) 1.1 (Second Edition).</cite></a> 16 August 2011.
    W3C Recommendation. URL: <a
    href="http://www.w3.org/TR/2011/REC-SVG11-20110816/">http://www.w3.org/TR/2011/REC-SVG11-20110816/</a>
    </dd>
   <!---->
  </dl>
  <!--end-normative-->

  <h3 class=no-num id=other-references> Other references</h3>
  <!--begin-informative-->
  <!-- Sorted by label -->

  <dl class=bibliography>
   <dt style="display: none"><!-- keeps the doc valid if the DL is empty -->
    <!---->

   <dt id=CSS3-TRANSFORMS>[CSS3-TRANSFORMS]

   <dd>Simon Fraser; et al. <a
    href="http://www.w3.org/TR/2012/WD-css3-transforms-20120403/"><cite>CSS
    Transforms.</cite></a> 3 April 2012. W3C Working Draft. (Work in
    progress.) URL: <a
    href="http://www.w3.org/TR/2012/WD-css3-transforms-20120403/">http://www.w3.org/TR/2012/WD-css3-transforms-20120403/</a>
    </dd>
   <!---->

   <dt id=CSS3BG>[CSS3BG]

   <dd>Bert Bos; Elika J. Etemad; Brad Kemper. <a
    href="http://www.w3.org/TR/2012/CR-css3-background-20120417/"><cite>CSS
    Backgrounds and Borders Module Level 3.</cite></a> 17 April 2012. W3C
    Candidate Recommendation. (Work in progress.) URL: <a
    href="http://www.w3.org/TR/2012/CR-css3-background-20120417/">http://www.w3.org/TR/2012/CR-css3-background-20120417/</a>
    </dd>
   <!---->
  </dl>
  <!--end-informative-->

  <h2 class=no-num id=index> Index</h2>
  <!--begin-index-->

  <ul class=indexlist>
   <li>‘<a href="#alpha"><code class=css>alpha</code></a>’, <a
    href="#alpha" title="''alpha''"><strong>13.</strong></a>

   <li><a href="#ltattachmentgt"><var>&lt;attachment&gt;</var></a>, <a
    href="#ltattachmentgt" title="&lt;attachment&gt;"><strong>8.</strong></a>
    

   <li>‘<a href="#auto0"><code class=css>auto</code></a>’, <a
    href="#auto0" title="''auto''"><strong>13.</strong></a>
    <ul>
     <li>‘<a href="#mask-size"><code class=property>mask-size</code></a>’
      value, <a href="#auto"
      title="''auto'', 'mask-size' value"><strong>12.</strong></a>
    </ul>

   <li>‘<code class=css>border-box</code>’
    <ul>
     <li>‘<a href="#mask-clip"><code class=property>mask-clip</code></a>’
      value, <a href="#border-box"
      title="''border-box'', 'mask-clip' value"><strong>10.</strong></a>

     <li>‘<a href="#mask-origin"><code
      class=property>mask-origin</code></a>’ value, <a href="#border-box0"
      title="''border-box'', 'mask-origin' value"><strong>11.</strong></a>
    </ul>

   <li>‘<code class=css>bottom</code>’
    <ul>
     <li>‘<a href="#mask-position"><code
      class=property>mask-position</code></a>’ value, <a href="#bottom"
      title="''bottom'', 'mask-position' value"><strong>9.</strong></a>
    </ul>

   <li>bounding client rect, <a href="#bounding-client-rect"
    title="bounding client rect"><strong>4.</strong></a>

   <li><a href="#ltboxgt"><var>&lt;box&gt;</var></a>, <a href="#ltboxgt"
    title="&lt;box&gt;"><strong>10.</strong></a>

   <li>‘<code class=css>center</code>’
    <ul>
     <li>‘<a href="#mask-position"><code
      class=property>mask-position</code></a>’ value, <a href="#center"
      title="''center'', 'mask-position' value"><strong>9.</strong></a>
    </ul>

   <li>‘<a href="#child"><code class=css>child</code></a>’, <a
    href="#child" title="''child''"><strong>14.</strong></a>

   <li>‘<a href="#contain"><code class=css>contain</code></a>’, <a
    href="#contain" title="''contain''"><strong>12.</strong></a>

   <li>‘<a href="#content-box0"><code class=css>content-box</code></a>’,
    <a href="#content-box0" title="''content-box''"><strong>11.</strong></a>
    <ul>
     <li>‘<a href="#mask-clip"><code class=property>mask-clip</code></a>’
      value, <a href="#content-box"
      title="''content-box'', 'mask-clip' value"><strong>10.</strong></a>
    </ul>

   <li>‘<a href="#cover"><code class=css>cover</code></a>’, <a
    href="#cover" title="''cover''"><strong>12.</strong></a>

   <li>fixed, <a href="#fixed0" title=fixed><strong>8.</strong></a>

   <li>‘<a href="#fixed0"><code class=css>fixed</code></a>’, <a
    href="#fixed" title="''fixed''"><strong>8.</strong></a>

   <li>‘<code class=css>&lt;FuncIRI&gt;</code>’, <a href="#ltfuncirigt"
    title="''&lt;FuncIRI&gt;''"><strong>14.</strong></a>

   <li>‘<a href="#ltimagegt"><code class=css><span
    class=xxx>&lt;image&gt;</span></code></a>’, <a href="#ltimagegt"
    title="''&lt;image&gt;''"><strong>6.</strong></a>

   <li>layers, <a href="#layers" title=layers>5.1.</a>

   <li>‘<code class=css>left</code>’
    <ul>
     <li>‘<a href="#mask-position"><code
      class=property>mask-position</code></a>’ value, <a href="#left"
      title="''left'', 'mask-position' value"><strong>9.</strong></a>
    </ul>

   <li>local, <a href="#local0" title=local><strong>8.</strong></a>

   <li>‘<a href="#local0"><code class=css>local</code></a>’, <a
    href="#local" title="''local''"><strong>8.</strong></a>

   <li>local coordinate system, <a href="#local-coordinate-system"
    title="local coordinate system"><strong>4.</strong></a>

   <li>‘<a href="#luminance"><code class=css>luminance</code></a>’, <a
    href="#luminance" title="''luminance''"><strong>13.</strong></a>

   <li>mask, <a href="#MaskProperty" title=mask><strong>14.</strong></a>, <a
    href="#mask" title=mask><strong>15.</strong></a>

   <li>mask-attachment, <a href="#mask-attachment"
    title=mask-attachment><strong>8.</strong></a>

   <li>mask-clip, <a href="#mask-clip"
    title=mask-clip><strong>10.</strong></a>

   <li><a href="#ltmask-imagegt"><var>&lt;mask-image&gt;</var></a>, <a
    href="#ltmask-imagegt" title="&lt;mask-image&gt;"><strong>6.</strong></a>
    

   <li>mask-image, <a href="#mask-image"
    title=mask-image><strong>6.</strong></a>

   <li><a href="#ltmask-layergt"><var>&lt;mask-layer&gt;</var></a>, <a
    href="#ltmask-layergt"
    title="&lt;mask-layer&gt;"><strong>14.</strong></a>

   <li>mask-origin, <a href="#mask-origin"
    title=mask-origin><strong>11.</strong></a>

   <li>mask painting area, <a href="#mask-painting-area"
    title="mask painting area"><strong>10.</strong></a>, <a
    href="#mask-painting-area." title="mask painting area.">7.</a>, <a
    href="#mask-painting-area0" title="mask painting area">7.</a>, <a
    href="#mask-painting-area1" title="mask painting area">7.</a>, <a
    href="#mask-painting-area2" title="mask painting area">7.</a>, <a
    href="#mask-painting-area3" title="mask painting area">7.</a>, <a
    href="#mask-painting-area4" title="mask painting area">8.</a>, <a
    href="#mask-painting-area5" title="mask painting area">9.</a>, <a
    href="#mask-painting-area6" title="mask painting area">9.</a>, <a
    href="#mask-painting-area7" title="mask painting area">9.</a>

   <li>mask-position, <a href="#mask-position"
    title=mask-position><strong>9.</strong></a>

   <li>mask positioning area, <a href="#mask-positioning-area"
    title="mask positioning area"><strong>11.</strong></a>, <a
    href="#mask-positioning-area." title="mask positioning area.">12.</a>

   <li>mask-repeat, <a href="#mask-repeat"
    title=mask-repeat><strong>7.</strong></a>

   <li><a href="#ltmask-sizegt"><var>&lt;mask-size&gt;</var></a>, <a
    href="#ltmask-sizegt" title="&lt;mask-size&gt;"><strong>12.</strong></a>

   <li>mask-size, <a href="#mask-size"
    title=mask-size><strong>12.</strong></a>

   <li><a href="#ltmask-sourcegt"><var>&lt;mask-source&gt;</var></a>, <a
    href="#ltmask-sourcegt"
    title="&lt;mask-source&gt;"><strong>14.</strong></a>

   <li><a href="#ltmask-typegt"><var>&lt;mask-type&gt;</var></a>, <a
    href="#ltmask-typegt" title="&lt;mask-type&gt;"><strong>13.</strong></a>

   <li>mask-type, <a href="#mask-type"
    title=mask-type><strong>13.</strong></a>

   <li>‘<a href="#none"><code class=css>none</code></a>’, <a href="#none"
    title="''none''"><strong>6.</strong></a>

   <li>‘<code class=css>no-repeat</code>’
    <ul>
     <li>‘<a href="#mask-repeat"><code
      class=property>mask-repeat</code></a>’ value, <a href="#no-repeat"
      title="''no-repeat'', 'mask-repeat' value"><strong>7.</strong></a>
    </ul>

   <li>object bounding box units, <a href="#object-bounding-box-units"
    title="object bounding box units"><strong>4.</strong></a>

   <li>‘<code class=css>padding-box</code>’
    <ul>
     <li>‘<a href="#mask-clip"><code class=property>mask-clip</code></a>’
      value, <a href="#padding-box"
      title="''padding-box'', 'mask-clip' value"><strong>10.</strong></a>

     <li>‘<a href="#mask-origin"><code
      class=property>mask-origin</code></a>’ value, <a href="#padding-box0"
      title="''padding-box'', 'mask-origin' value"><strong>11.</strong></a>
    </ul>

   <li><a href="#ltpositiongt"><var>&lt;position&gt;</var></a>, <a
    href="#ltpositiongt" title="&lt;position&gt;"><strong>9.</strong></a>

   <li>‘<code class=css>repeat</code>’
    <ul>
     <li>‘<a href="#mask-repeat"><code
      class=property>mask-repeat</code></a>’ value, <a href="#repeat"
      title="''repeat'', 'mask-repeat' value"><strong>7.</strong></a>
    </ul>

   <li><a href="#ltrepeat-stylegt"><var>&lt;repeat-style&gt;</var></a>, <a
    href="#ltrepeat-stylegt"
    title="&lt;repeat-style&gt;"><strong>7.</strong></a>

   <li>‘<a href="#repeat-x"><code class=css>repeat-x</code></a>’, <a
    href="#repeat-x" title="''repeat-x''"><strong>7.</strong></a>

   <li>‘<a href="#repeat-y"><code class=css>repeat-y</code></a>’, <a
    href="#repeat-y" title="''repeat-y''"><strong>7.</strong></a>

   <li>‘<code class=css>right</code>’
    <ul>
     <li>‘<a href="#mask-position"><code
      class=property>mask-position</code></a>’ value, <a href="#right"
      title="''right'', 'mask-position' value"><strong>9.</strong></a>
    </ul>

   <li>‘<code class=css>round</code>’
    <ul>
     <li>‘<a href="#mask-repeat"><code
      class=property>mask-repeat</code></a>’ value, <a href="#round"
      title="''round'', 'mask-repeat' value"><strong>7.</strong></a>
    </ul>

   <li>scroll, <a href="#scroll0" title=scroll><strong>8.</strong></a>

   <li>‘<a href="#scroll0"><code class=css>scroll</code></a>’, <a
    href="#scroll" title="''scroll''"><strong>8.</strong></a>

   <li>‘<code
    class=css>select(<var>&lt;compound-selector&gt;</var>)</code>’, <a
    href="#selectltcompound-selectorgt"
    title="''select(&lt;compound-selector&gt;)''"><strong>14.</strong></a>

   <li>‘<code class=css>space</code>’
    <ul>
     <li>‘<a href="#mask-repeat"><code
      class=property>mask-repeat</code></a>’ value, <a href="#space"
      title="''space'', 'mask-repeat' value"><strong>7.</strong></a>
    </ul>

   <li>‘<code class=css>top</code>’
    <ul>
     <li>‘<a href="#mask-position"><code
      class=property>mask-position</code></a>’ value, <a href="#top"
      title="''top'', 'mask-position' value"><strong>9.</strong></a>
    </ul>

   <li>user coordinate system, <a href="#user-coordinate-system"
    title="user coordinate system"><strong>4.</strong></a>

   <li>viewport, <a href="#viewport" title=viewport>8.</a>
  </ul>
  <!--end-index-->

  <h2 class=no-num id=property-index> Property index</h2>
  <!--begin-properties-->

  <table class=proptable>
   <thead>
    <tr>
     <th>Property

     <th>Values

     <th>Initial

     <th>Applies to

     <th>Inh.

     <th>Percentages

     <th>Media

   <tbody>
    <tr>
     <th><a class=property href="#mask-attachment">mask-attachment</a>

     <td>&lt;attachment&gt; [ , &lt;attachment&gt; ]*

     <td>scroll

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#mask-clip">mask-clip</a>

     <td>&lt;box&gt; [ , &lt;box&gt; ]*

     <td>border-box

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#mask-image">mask-image</a>

     <td>&lt;mask-image&gt; [ , &lt;mask-image&gt; ]*

     <td>none

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#mask-origin">mask-origin</a>

     <td>&lt;box&gt; [ , &lt;box&gt; ]*

     <td>padding-box

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#mask-position">mask-position</a>

     <td>&lt;position&gt; [ , &lt;position&gt; ]*

     <td>0% 0%

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>refer to size of mask painting area minus size of mask image; see
      text

     <td>visual

    <tr>
     <th><a class=property href="#mask-repeat">mask-repeat</a>

     <td>&lt;repeat-style&gt; [ , &lt;repeat-style&gt; ]*

     <td>repeat

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>N/A

     <td>visual

    <tr>
     <th><a class=property href="#mask-size">mask-size</a>

     <td>&lt;mask-size&gt; [ , &lt;mask-size&gt; ]*

     <td>auto

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>see text

     <td>visual

    <tr>
     <th><a class=property href="#mask">mask</a>

     <td>&lt;mask-source&gt; | [ &lt;mask-layer&gt; [, &lt;mask-layer&gt; ]*
      ] &lt;mask-type&gt;?

     <td>see individual properties

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>see individual properties

     <td>visual

    <tr>
     <th><a class=property href="#mask">mask</a>

     <td>

     <td>

     <td>

     <td>

     <td>

     <td>

    <tr>
     <th><a class=property href="#mask-type">mask-type</a>

     <td>&lt;mask-type&gt;

     <td>auto

     <td>All elements. In SVG, it applies to container elements and graphics
      elements

     <td>no

     <td>N/A

     <td>visual
  </table>
  <!--end-properties-->
</html>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-declaration:"~/SGML/HTML4.decl"
sgml-default-doctype-name:"html"
sgml-minimize-attributes:t
sgml-nofill-elements:("pre" "style" "br")
sgml-live-element-indicator:t
sgml-omittag:nil
sgml-shorttag:nil
sgml-namecase-general:t
sgml-general-insert-case:lower
sgml-always-quote-attributes:t
sgml-indent-step:nil
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
